:root{
  --bg:#fafafa; --text:#111827; --muted:#6b7280;
  --surface:#ffffff; --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.06);
  --hr:#e5e7eb; --code:#0f172a; --code-fg:#e2e8f0;
  --brand:#0ea5e9;            /* 強調リンク色 */
  --grad-a:#22c55e;           /* アクセント（緑系） */
  --grad-b:#14b8a6;           /* アクセント（青緑） */
  --mark:#fff8c5;             /* マーカー */
}

html,body{background:var(--bg);color:var(--text)}
*{box-sizing:border-box}
a{color:var(--brand);text-decoration:underline;text-underline-offset:2px;text-decoration-thickness:2px}

/* ===== コンテナ・見出し前半は現状踏襲 ===== */
.np{max-width:920px;margin:80px auto;padding:0 8px}
.np__title{font-size:clamp(1.7rem,3.2vw,2.4rem);line-height:1.25;margin:0}
.np__meta{color:var(--muted);display:flex;gap:10px;align-items:center;margin:10px 0 18px}
.nm-badge{background:#eef2ff;color:#1f2937;padding:.2rem .65rem;border-radius:999px;font-weight:700}

/* ===== 本文カード ===== */
.np__body{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.np__content{padding:clamp(18px,3.6vw,30px);line-height:1.9;font-size:1.05rem}
.np__content img{max-width:100%;border-radius:12px;height:auto}
.o-noteEyecatch{margin:0}

/* ===== 見出し（飾りライン＋下線で視認性UP） ===== */
.np__content h2,
.np__content h3,
.np__content h4{
  position:relative;
  scroll-margin-top:80px;
  font-weight:800;
  letter-spacing:.2px;
  color:#0f172a;
}
.np__content h2{
  font-size:clamp(1.35rem,2.4vw,1.6rem);
  margin:1.9rem 0 .9rem; padding:.15rem 0 .45rem .95rem;
}
.np__content h2::before{
  content:""; position:absolute; left:0; top:.25rem; bottom:.25rem;
  width:5px; border-radius:6px; 
  background:linear-gradient(180deg,var(--grad-a),var(--grad-b));
  opacity:.95;
}
.np__content h2::after{
  content:""; display:block; height:2px; margin-top:.5rem;
  background:linear-gradient(90deg,rgba(20,184,166,.2),transparent);
  border-radius:2px;
}
.np__content h3{
  font-size:clamp(1.15rem,2vw,1.3rem);
  margin:1.4rem 0 .6rem; padding-bottom:.3rem;
  border-bottom:2px solid rgba(14,165,233,.15);
}
.np__content h4{
  font-size:1.05rem; margin:1.1rem 0 .5rem;
  color:#111827;
}

/* ===== 段落・インライン強調 ===== */
.np__content p{margin:.95rem 0}
.np__content p > img:only-child{margin:.2rem 0 .6rem} /* 画像だけの段落に余白 */
.np__content mark{background:var(--mark);padding:.1em .25em;border-radius:.25em}

/* ===== リスト（見やすいマーカー＆番号） ===== */
.np__content ul,
.np__content ol{margin:.6rem 0 .95rem .2rem; padding-left:1.35rem}
.np__content li{margin:.25rem 0}
.np__content ul{list-style:none}
.np__content ul > li{
  position:relative; padding-left:.35rem;
}
.np__content ul > li::before{
  content:""; position:absolute; left:-1.05rem; top:.65em;
  width:.45rem; height:.45rem; border-radius:50%;
  background:linear-gradient(135deg,var(--grad-a),var(--grad-b));
  box-shadow:0 0 0 2px rgba(20,184,166,.15);
  transform:translateY(-50%);
}
.np__content ol{counter-reset:item}
.np__content ol > li{
  counter-increment:item;
  position:relative;
  padding-left:1.2rem;
}
.np__content ol > li::before{
  content:counter(item) ".";
  position:absolute; left:0; top:.05rem;
  color:#0ea5e9; font-weight:800; font-variant-numeric:tabular-nums;
}

/* ===== 引用（太め左帯＋引用符） ===== */
.np__content blockquote{
  position:relative;
  margin:1.1rem 0;
  padding:.9rem 1rem .9rem 1.1rem;
  border-radius:12px;
  background:linear-gradient(0deg,#f7fffb,#ffffff);
  border:1px solid rgba(20,184,166,.22);
  color:#0f2a1f;
}
.np__content blockquote::before{
  content:"“";
  position:absolute; left:.65rem; top:-.4rem;
  font-size:2.1rem; color:rgba(20,184,166,.35);
  line-height:1;
}
.np__content blockquote p{margin:.5rem 0}

/* ===== 区切り線 ===== */
.np__content hr{
  border:none;height:1px;margin:1.6rem 0;
  background:linear-gradient(90deg,transparent,var(--hr),transparent);
}

/* ===== コード ===== */
.np__content pre{
  background:var(--code); color:var(--code-fg);
  padding:1rem 1.1rem; border-radius:12px; overflow:auto;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
}
.np__content code{
  background:#0b1220; color:#dbeafe; padding:.15rem .4rem;
  border-radius:.35rem; font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  font-size:.95em
}
.np__content pre code{background:transparent;color:inherit;padding:0}

/* ===== テーブル（ラップ＋ヘッダ固定風） ===== */
.np__content .table-wrap{overflow:auto;-webkit-overflow-scrolling:touch;margin:1.1rem 0}
.np__content table{
  width:max-content; border-collapse:separate; border-spacing:0;
  border:1px solid #e5e7eb; border-radius:12px; overflow:hidden;
  box-shadow:0 1px 0 #e5e7eb inset, 0 -1px 0 #e5e7eb inset;
}
.np__content thead th{
  position:sticky; top:0; z-index:1;
  background:linear-gradient(0deg,#f7faf9,#ffffff);
  color:#111827; font-weight:800; text-align:left;
  padding:.7rem .9rem; white-space:nowrap; border-bottom:1px solid #e5e7eb;
}
.np__content tbody td{
  padding:.7rem .9rem; border-bottom:1px solid #eef2f7;
  word-break:break-word; overflow-wrap:anywhere;
}
.np__content tbody tr:nth-child(even){background:#fbfefe}
.np__content tbody tr:hover{background:#f3fbf7}

/* ===== 画像キャプション＆軽いズーム ===== */
.np__content figure{margin:1rem 0}
.np__content figure img{max-width:100%;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.06);transition:transform .2s ease}
.np__content figure:hover img{transform:scale(1.01)}
.np__content figcaption{font-size:.9rem;color:var(--muted);text-align:center;margin-top:.4rem}

/* ===== 情報ボックス（任意で <div class="callout info|warn|tip"> を使えます） ===== */
.np__content .callout{
  border-radius:12px; padding:.85rem 1rem; margin:1rem 0;
  background:#f8fffb; border:1px solid #d8f3e6;
}
.np__content .callout.info{background:#f3f8ff;border-color:#cfe2ff}
.np__content .callout.warn{background:#fff8f3;border-color:#ffd8b5}
.np__content .callout.tip {background:#f6fff3;border-color:#cfeec2}

/* ===== 関連カードは現状踏襲 ===== */
.np__related{margin:24px 0 4px}
.np__related h2{font-size:1.12rem;margin:0 0 8px}
.np__related-list{display:flex;gap:10px;overflow-x:auto;padding-bottom:6px}
.np-rel{flex:0 0 auto;width:220px;background:var(--surface);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);color:#111;text-decoration:none}
.np-rel img{width:100%;height:120px;object-fit:cover;display:block}
.np-rel__title{padding:.6rem .7rem;font-weight:700}

/* ===== 戻るリンク ===== */
.np__back{margin:22px 0 12px}
.np__back a{text-decoration:none;color:#111;border-bottom:1px solid currentColor;padding-bottom:2px}

/* ===== note 側UIは引き続き隠す ===== */
.flex, .o-noteContentHeader__avatar, .a-button__inner, .m-navbarContainer__nav, .o-noteContentHeader__name,
.o-supportAppealBox, .p-article__contest, .p-article__hashtags, .p-article__action,
.p-article__creator, .o-footer { display:none !important; }
.nm-card__excerpt {
  margin: 0;
  padding: 0 .8rem;
  font-size: .8rem;
}

/* ===== ダークモード（任意） ===== */
/* @media (prefers-color-scheme: dark){
  :root{
    --bg:#0b1220; --text:#e5e7eb; --muted:#94a3b8; --surface:#0f172a;
    --hr:#243045; --code:#0b1220; --code-fg:#e2e8f0; --shadow:0 12px 30px rgba(0,0,0,.45);
  }
  a{color:#7dd3fc}
  .np__content .callout{background:#071d18;border-color:#0e3c32}
  .np__content .callout.info{background:#0a1626;border-color:#183459}
  .np__content .callout.warn{background:#26160a;border-color:#593418}
  .np__content table{border-color:#1f2a3b;box-shadow:0 1px 0 #1f2a3b inset,0 -1px 0 #1f2a3b inset}
  .np__content thead th{background:#0f172a;border-bottom-color:#1f2a3b;color:#e5e7eb}
  .np__content tbody td{border-bottom-color:#1f2a3b}
} */